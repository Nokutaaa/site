<script>
  window.onload = () => {
    const videos = [
      "video1.mp4",
      "video2.mp4",
      "video3.mp4",
      "video4.mp4",
      "video5.mp4",
      "video6.mp4"
    ];

    const container = document.getElementById("videos-container");
    const videoElements = [];

    const videoWidth = 360;
    const videoHeight = 204;

    const centerX = container.clientWidth / 2;
    const centerY = container.clientHeight / 2;
    const radiusX = centerX - videoWidth / 2 - 60;
    const radiusY = centerY - videoHeight / 2 - 60;

    videos.forEach((src, i) => {
      const angle = (i / videos.length) * 2 * Math.PI;
      let yOffset = 0;
      const angleDeg = (angle * 180) / Math.PI;

      // Rehausse ou abaisse en fonction de lâ€™angle
      if (angleDeg >= 60 && angleDeg <= 120) {
        yOffset = -80;
      } else if (angleDeg >= 240 && angleDeg <= 300) {
        yOffset = 80;
      }

      const x = centerX + radiusX * Math.cos(angle) - videoWidth / 2;
      const y = centerY + radiusY * Math.sin(angle) + yOffset - videoHeight / 2;

      const video = document.createElement("video");
      video.src = src;
      video.muted = true;
      video.loop = true;
      video.autoplay = true;
      video.playsInline = true;
      video.classList.add("floating-video");
      video.style.left = `${x}px`;
      video.style.top = `${y}px`;

      container.appendChild(video);
      videoElements.push(video);
    });

    // Fullscreen logic
    const fullscreenVideo = document.getElementById("fullscreenVideo");
    const overlay = document.getElementById("overlay");

    videoElements.forEach(video => {
      video.addEventListener("click", () => {
        fullscreenVideo.src = video.src;
        fullscreenVideo.currentTime = 0;
        fullscreenVideo.volume = 0.35;
        fullscreenVideo.play();
        fullscreenVideo.classList.add("active");
        overlay.classList.add("active");
      });
    });

    window.closeFullscreenVideo = function () {
      fullscreenVideo.pause();
      fullscreenVideo.classList.remove("active");
      overlay.classList.remove("active");
      fullscreenVideo.src = "";
    };
  };
</script>
